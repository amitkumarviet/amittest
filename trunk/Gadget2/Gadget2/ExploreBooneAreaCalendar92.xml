<?xml version="1.0" encoding="UTF-8" ?>
<Module>
	<ModulePrefs title="ExploreBooneArea.com v0.43" height="800" width="800" author_email ="amitlathi@gmail.com" screenshot="" thumbnail="" author_location ="India" author_affiliation ="" title_url=""  directory_title="" scaling="false" >
		<Require feature="views" />
		<Require feature="setprefs" />
    <Require feature="dynamic-height"/>
  </ModulePrefs>
	<UserPref name="isSlideShow" display_name="Auto Slideshow?" datatype="bool" default_value="true" />
	<UserPref name="setSlideShow" display_name="Slideshow Activation (in secs)" datatype="string" default_value="10" required="true"/>
	<UserPref name="userID" default_value="0" datatype="hidden"/>
	<Content type="html" view="home">
		<![CDATA[
	
		<table width="100%" cellpadding="0" cellspacing="0" border="0" >
			<tr>
				<td align="center">
					<iframe id="iFrameHome"   width="100%" height="750" frameborder="0" marginheight="0" marginwidth="0"  style="border-collapse:collapse;" scrolling="no" ></iframe>
				</td>
			</tr>
			<tr><td height="8px"></td></tr>
			<tr>
				<td>
					<div style="width:100%; text-align:left; font-size:11px"><a onclick="gotoCanvas(); return false;" href="#" >&nbsp;Add</a></div> 
				</td>
			</tr>
		</table>
		
	<script type="text/javascript">	
		
		function navigateTo(dest) {
			var supported_views = gadgets.views.getSupportedViews();
			gadgets.views.requestNavigateTo(supported_views[dest]);
		  };

		  /**
		   * When called, this method asks the container to switch to the canvas
		   */
		  function gotoCanvas() {
			navigateTo("canvas");
		  };
		  
		   // Get user preferences
			var prefs = new _IG_Prefs();
			
			var isSlideShow;
			var setSlideShow;
			
			isSlideShow = prefs.getBool("isSlideShow");
			setSlideShow = prefs.getString("setSlideShow");
			
			var iFrameHome = document.getElementById("iFrameHome");
			iFrameHome.setAttribute("src","http://amit.cccom.com/gadget2/gadget2/home.aspx?isSlideShow=" + isSlideShow + "&setSlideShow=" + setSlideShow);
		  
      //gadgets.window.adjustHeight();

	</script>
  
  ]]>
	</Content>

	<Content type="html" view="canvas">
		<![CDATA[

	
	<div style="width:100%; text-align:left; font-size:11px"><a onclick="gotoHome(); return false;" href="#" >&nbsp;Home</a></div>    
	<br />
    <table width="100%" cellpadding="0px" cellspacing="0px" align="left" border="0px"   >
        <tr>
            <td align="left">
                <iframe id="iFrameSearch" width="700" height="700" frameborder="0" marginheight="0" marginwidth="0"  style="border-collapse:collapse;" scrolling="no" ></iframe>
            </td>
        </tr>
    </table>
	
	<script type="text/javascript" src="http://amit.cccom.com/Gadget2/js/jquery-1.3.1.js"></script>

	<script type="text/javascript">	

		function navigateTo(dest) {
			var supported_views = gadgets.views.getSupportedViews();
			gadgets.views.requestNavigateTo(supported_views[dest]);
		  };


		  /**
		   * When called, this method asks the container to switch to the home
		   */
		function gotoHome() {
			navigateTo("home");
		  };


		/*
		Generate fragment of random numbers
		*/
		jQuery._uuid_default_prefix = '';
		jQuery._uuidlet = function () {
			return(((1+Math.random())*0x10000)|0).toString(16).substring(1);
		};
		/*
		Generates random uuid
		*/
		jQuery.uuid = function (p) {
			if (typeof(p) == 'object' && typeof(p.prefix) == 'string') {
				jQuery._uuid_default_prefix = p.prefix;
			} else {
				p = p || jQuery._uuid_default_prefix || '';
				return(p+jQuery._uuidlet()+jQuery._uuidlet()+"-"+jQuery._uuidlet()+"-"+jQuery._uuidlet()+"-"+jQuery._uuidlet()+"-"+jQuery._uuidlet()+jQuery._uuidlet()+jQuery._uuidlet());
			};
		};


		  // Get user preferences
			var prefs = new _IG_Prefs();
			
			var ID = prefs.getString("userID");
			var objGUID = "0";
			if (ID == "0")
			{
				objGUID = jQuery.uuid();
				prefs.set("userID", objGUID);
				//alert('New' + objGUID);
			}
			else
			{
				objGUID = prefs.getString("userID");
				//alert('Old' + objGUID);
			}
			
			var isSlideShow;
			var setSlideShow;
			
			isSlideShow = prefs.getBool("isSlideShow");
			setSlideShow = prefs.getString("setSlideShow");
			
			var iFrameSearch = document.getElementById("iFrameSearch");
			//iFrameSearch.setAttribute("src","http://amit.cccom.com/gadget2/gadget2/EventSearch.aspx?uid='" + String(objGUID) + "'&isSlideShow=" + isSlideShow + "&setSlideShow=" + setSlideShow);
			
			iFrameSearch.setAttribute("src","http://dev.exploreboonearea.com/portals/0/public/categoryJSON_sample.aspx?uid='" + String(objGUID) + "'&isSlideShow=" + isSlideShow + "&setSlideShow=" + setSlideShow);
		
      //gadgets.window.adjustHeight();

	</script>
	
  ]]>
	</Content>
</Module>